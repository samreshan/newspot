{% load static %}
<!DOCTYPE html>
<html lang="ne">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>{{ title }} | News Pot</title>
<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Devanagari:wght@400;500;600;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="{% static 'newsBS/css/detail.css' %}">
<script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

</head>
<body>
<!-- Reading Progress -->
<div class="reading-progress" id="readingProgress"></div>

<!-- Floating Action Buttons -->
<div class="floating-actions" id="floatingActions">
  <button class="action-button" id="translateBtn" onclick="translateToEnglish()">
    <span class="spinner"></span>
    <span class="button-text">
      <span class="button-icon">🌐</span>
      Translate
    </span>
  </button>
  <button class="action-button" id="summarizeBtn" onclick="summarizeArticle()">
    <span class="spinner"></span>
    <span class="button-text">
      <span class="button-icon">📄</span>
      Summarize
    </span>
  </button>
</div>

<div class="container">
<!-- Clean Header with pot reference -->
<header class="pot-header">
<div class="brewing-indicator">
<div class="steam-dots">
<div class="dot"></div>
<div class="dot"></div>
<div class="dot"></div>
</div>
<span>Brewing</span>
</div>
<h1 class="article-title">{{ title }}</h1>
<div class="article-meta">
<div class="meta-item">
<span>Author:</span>
<span>{{ author }}</span>
</div>
<div class="meta-item">
<span>Date:</span>
<span>{{ time }}</span>
</div>
<a href="{{ source_url }}" target="_blank" class="source-link">
 View Original →
</a>
</div>
</header>
<!-- Main Content -->
<div class="content-area">
<!-- AI Summary -->
{% if summary %}
<div class="summary-section">
<div class="summary-header">
<div class="summary-icon">AI</div>
<h2 class="summary-title">Key Ingredients</h2>
</div>
<ul class="summary-list">
{% for item in summary %}
<li class="summary-item">{{ item }}</li>
{% endfor %}
</ul>
</div>
{% endif %}
<!-- Article Content -->
<div class="article-content">
{% for para in paragraphs %}
<p class="content-paragraph">{{ para }}</p>
{% endfor %}
</div>
</div>
</div>

<!-- Enhanced AI Output Box -->
<div class="ai-output" id="aiOutput">
  <div class="ai-output-header">
    <div class="ai-output-title">
      <div class="ai-icon">AI</div>
      <span id="aiOutputTitle">AI Response</span>
    </div>
    <button class="close-button" onclick="closeAIOutput()">&times;</button>
  </div>
  <div class="ai-content">
    <div class="loading-animation" id="loadingAnimation">
      <div class="loading-dots">
        <div class="loading-dot"></div>
        <div class="loading-dot"></div>
        <div class="loading-dot"></div>
      </div>
      <span>Generating response...</span>
    </div>
    <div class="ai-result" id="aiResult"></div>
  </div>
</div>
<script src="{% static 'newsBS/js/detail.js' %}"></script>
</body>
</html>